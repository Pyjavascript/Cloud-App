import{r as n,j as e}from"./index-CQgnHqw8.js";import{a as i}from"./firebaseConfig-CAPoEHPC.js";import{g as w,a as N,u as S,c as b,s as y,d as U,b as E}from"./App-CW3bKci6.js";function A(){const o=w(i),d=N(i),c=S(),[t,u]=n.useState(!1),[m,p]=n.useState(""),[r,g]=n.useState(""),[l,x]=n.useState(""),[h,f]=n.useState(""),j=async s=>{const a=U(d,"users",s);await E(a,{email:s}),console.log("Document created with email:",s)},v=async s=>{s.preventDefault();try{if(t){const a=await b(o,r,l);console.log("User signed up:",a),await j(r),c("/home")}else{const a=await y(o,r,l);console.log("User logged in:",a),c("/home")}localStorage.setItem("isLoggedIn","true")}catch(a){alert(a.message)}};return n.useEffect(()=>{f("")},[t]),e.jsxs("main",{className:"main bg-[#f1f5fb] w-screen h-screen flex flex-col justify-center items-center relative",children:[e.jsxs("div",{className:"flex flex-col gap-5 min-w-min max-w-sm p-2 px-10 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-left font-bold text-4xl",children:t?"Sign Up":"Sign In"}),e.jsx("p",{className:"text-slate-400 mt-1",children:"enjoy the free storage."})]}),e.jsxs("form",{onSubmit:v,className:"flex justify-start flex-col gap-4 mt-3",children:[t&&e.jsx("div",{children:e.jsx("input",{className:"p-2 px-4 rounded-lg ",type:"text",value:m,placeholder:"Username",onChange:s=>p(s.target.value)})}),e.jsx("div",{children:e.jsx("input",{className:"p-2 px-4 rounded-lg ",type:"email",value:r,placeholder:"example@gmail.com",onChange:s=>{g(s.target.value)}})}),e.jsx("div",{children:e.jsx("input",{className:"p-2 px-4 rounded-lg ",type:"password",value:l,placeholder:"password",onChange:s=>x(s.target.value)})}),e.jsx("div",{className:"text-red-400",children:h}),e.jsx("button",{className:"shadow-lg rounded-lg py-2 bg-purple-600 text-white",children:t?"Sign Up":"Sign In"}),e.jsx("button",{type:"button",className:"text-purple-600 hover:underline text-center w-full mt-3",onClick:()=>{u(!t)},children:t?"Already have an account? Login":"New user? Sign Up"})]})]}),e.jsx("div",{className:"bg-black"})]})}export{A as default};
